@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Inter:wght@400;500;600&display=swap');

:root{
  --bg:#f6f7fb; --card:#fff; --ink:#111827; --muted:#6b7280;
  --rail:#eef5ff; --rail-border:#dbeafe;
  --input-bg:#fbfbfe; --input-bd:#f0f1f5;
  --item-bg:#eef1f6; --item-bd:#e5e7eb;
  --add-bg:#e8f1ff; --add-bd:#cfe1ff;
  --danger-bg:#fdecec; --danger-bd:#f9d3d3; --danger-ink:#b91c1c;
  --accent:#3b82f6; --radius:20px; --shadow:0 10px 25px rgba(17,24,39,.1);
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,sans-serif}

.todo-wrap{min-height:100%;display:grid;place-items:center;padding:24px}
.todo-card{width:min(720px,95vw);background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:28px 22px 24px}
.todo-title{font-family:Cinzel,serif;text-transform:uppercase;letter-spacing:.12em;font-size:28px;text-align:center;margin:0 0 16px}
.todo-top{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px}
.today{font-weight:600}
.count{display:flex;align-items:center;color:var(--muted);font-size:14px;gap:8px}
.count-dot{width:10px;height:10px;border-radius:999px;background:#22c55e;display:inline-block}

/* 입력 폼: 이모지/인풋/우선순위/추가 버튼 */
.todo-form{display:grid;grid-template-columns:70px 1fr 120px 92px;gap:12px;margin:8px 0 12px}
.select-emoji,.select-priority,.todo-input,.btn-add{height:48px;border-radius:14px;border:1px solid var(--input-bd);background:var(--input-bg);padding:0 12px;font-size:16px}
.select-emoji{font-size:20px}
.select-priority{font-weight:600}
.todo-input{background:var(--input-bg);border:1px solid var(--input-bd)}
.todo-input:focus,.select-emoji:focus,.select-priority:focus{outline:3px solid var(--accent);outline-offset:2px}
.btn-add{border-color:var(--add-bd);background:var(--add-bg);cursor:pointer;font-weight:700}
.btn-add:hover{filter:brightness(.98)}

/* 필터 칩 */
.filters{display:flex;gap:8px;margin:6px 0 16px}
.chip{border:1px solid #e6e9f2;background:#f6f8fc;color:#334155;border-radius:999px;height:34px;padding:0 12px;cursor:pointer}
.chip.is-active{background:#e8f1ff;border-color:var(--add-bd);font-weight:700}

/* 리스트 */
.todo-list{list-style:none;margin:0;padding:0;display:grid;gap:10px}
.todo-item{
  display:grid;grid-template-columns:auto 1fr auto auto;align-items:center;gap:12px;
  background:var(--item-bg);border:1px solid var(--item-bd);border-radius:16px;padding:10px 12px;
}
.todo-item.is-done .todo-text{ text-decoration:line-through; color:#6b7280; }

/* 기본 체크박스 */
.check input[type="checkbox"] {
  appearance: none;
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  border: 2px solid #cbd5e1;   /* 연한 회색 테두리 */
  border-radius: 6px;
  background: #fff;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

/* 체크된 상태 - 파스텔 블루 */
.check input[type="checkbox"]:checked {
  background: #a5d8ff;        /* 파스텔 블루 */
  border-color: #74c0fc;
}

/* 체크 아이콘 */
.check input[type="checkbox"]:checked::after {
  content: "✔";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -60%);
  font-size: 13px;
  color: #1c7ed6;             /* 진한 파스텔 블루 */
  font-weight: bold;
}

/* 텍스트/이모지 */
.todo-text {
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size:16px;
  word-break:break-word
}
.todo-text .emoji{margin-right:8px}

/* 우선순위 배지 */
.badge{border-radius:10px;padding:4px 8px;font-size:12px;font-weight:700}
.badge.high{background:#fee2e2;color:#991b1b;border:1px solid #fecaca}
.badge.medium{background:#fef3c7;color:#92400e;border:1px solid #fde68a}
.badge.low{background:#e5e7eb;color:#374151;border:1px solid #d1d5db}

/* 삭제 버튼 */
.btn-del{border:none;border-radius:12px;background:var(--danger-bg);box-shadow: inset 0 0 0 1px var(--danger-bd);color:var(--danger-ink);height:36px;padding:0 10px;cursor:pointer;font-weight:600}
.btn-del:hover{filter:brightness(.98)}

/* 접근성 */
.btn-add:focus-visible,.btn-del:focus-visible,.chip:focus-visible,.check input:focus-visible + .check-visual{outline:3px solid var(--accent);outline-offset:2px}

/* 반응형 */
@media (max-width:640px){
  .todo-form{grid-template-columns:60px 1fr 1fr;grid-auto-rows:auto}
  .select-priority{grid-column:3 / 4}
  .btn-add{grid-column:1 / -1}
}

/* 드래그 핸들 */
.drag-handle {
  width: 28px;
  text-align: center;
  cursor: grab;
  user-select: none;
  color: #94a3b8;
  font-weight: 700;
  font-size: 18px;
}
.todo-item:active .drag-handle {
  cursor: grabbing;
}

/* 액션 버튼 영역: 한 줄 정렬 */
.row-actions {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: auto;
}

.row-actions .ghost,
.row-actions .btn-del {
  height: 30px;
  min-width: 40px;
  padding: 0 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  border-radius: 8px;
  white-space: nowrap;
}


.ghost{
  border:1px solid #e5e7eb; background:#f8fafc; color:#475569;
  height:32px; padding:0 8px; border-radius:10px; cursor:pointer;
}
.ghost:hover{filter:brightness(.98)}

/* 편집 모드 */
.todo-item.editing{
  grid-template-columns:28px 1fr auto; gap:10px;
}
.edit-fields{
  display:grid; grid-template-columns:70px 1fr 120px; gap:10px; align-items:center;
}
.edit-actions{display:flex; gap:8px}

/* 뱃지(기존 정의가 있으면 유지) */
.badge.high{background:#fee2e2;color:#991b1b;border:1px solid #fecaca}
.badge.medium{background:#fef3c7;color:#92400e;border:1px solid #fde68a}
.badge.low{background:#e5e7eb;color:#374151;border:1px solid #d1d5db}

/* 카드 전체 폭 넓히기 */
.todo-card{
  width: min(1000px, 96vw);
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 32px 28px 28px;
}

/* 입력 폼: flex로 배치, 인풋이 가장 넓게 */
.todo-form{
  display: flex;
  gap: 12px;
  margin: 12px 0 18px;
}

.select-emoji{
  width: 80px;
  flex-shrink: 0;
}

.todo-input{
  flex: 1; /* 가운데 인풋이 가장 넓어지도록 */
}

.select-priority{
  width: 120px;
  flex-shrink: 0;
}

.btn-add{
  width: 100px;
  flex-shrink: 0;
}

/* 필터 버튼 여유 */
.filters{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin: 12px 0 20px;
}

/* 리스트 아이템 크기 줄이기 */
.todo-item {
  display: flex;
  align-items: center;
  gap: 10px;          /* 요소 간격 */
  padding: 8px 12px;
  border-radius: 10px;
}

/* 체크박스, 버튼 높이 맞추기 */
.todo-item input[type="checkbox"],
.row-actions button {
  width: 28px;
  height: 28px;
  font-size: 14px;
}

/* 드래그 핸들 위치 */
.drag-handle{
  margin-right: 6px;
}
